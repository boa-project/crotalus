<mat-card class="image-item-card">
  <div class="image-wrapper">
    <app-image-handler [imageUrl]="getThumbnailUrl()"></app-image-handler>
    <div class="open-details-overlay" (click)="openDetails()">
      <mat-icon>open_in_new</mat-icon>
    </div>
  </div>
  <mat-card-content>
    <mat-card-title #titleRef [matTooltip]="imageItem.metadata.general.title.none" matTooltipPosition="above"
      [matTooltipDisabled]="shouldDisableTooltip(titleRef)">{{imageItem.metadata.general.title.none}}</mat-card-title>
    <mat-card-subtitle>
      <div class="left">
        <span>
          <mat-icon>visibility</mat-icon> {{imageItem.social.views}}
        </span>
        &nbsp;&nbsp;
        <span>
          <mat-icon>comment</mat-icon>
          {{imageItem.social.comments}}
        </span>
      </div>
      <div class="right">
        <span [class.download-icon]="!isResourceInSameDomain">
          <a *ngIf="isResourceInSameDomain; else iconTemplate" 
            class="download-icon"
            [href]="getResourceDownloadUrl()"
            [download]="imageItem.manifest.entrypoint"
          >
            <mat-icon>get_app</mat-icon>
          </a>
          <ng-template #iconTemplate>
            <mat-icon (click)="openResourceInNewWindow()">get_app</mat-icon>
          </ng-template>
        </span>
      </div>

    </mat-card-subtitle>
  </mat-card-content>
</mat-card>